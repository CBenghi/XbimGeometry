<Project DefaultTargets="Build" Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<TargetFrameworks>netcoreapp3.1;net6.0</TargetFrameworks>		
		<DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
		<Title>Xbim Geometry Engine</Title>
		<Description>Provides support for the Ifc4 and Ifc2x3 Geometry conversion.</Description>
		<GeneratePackageOnBuild>true</GeneratePackageOnBuild>
		<PackageId>Xbim.Geometry.Engine.Interop</PackageId>
		<PackageIcon>xbim-toolkit-icon.png</PackageIcon>
		<BaseOutputPath>..\Output</BaseOutputPath>
		<Version>5.1.0.0-dev</Version>
		<SignAssembly>False</SignAssembly>
		
	</PropertyGroup>
	
	<ItemGroup>
		<Content Include="..\Xbim.Geometry.Engine.Interop.targets">
			<Link>Xbim.Geometry.Engine.Interop.targets</Link>
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
	</ItemGroup>
	<ItemGroup>
		<PackageReference Include="Microsoft.Extensions.Logging" Version="6.0.0" />
		<PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="6.0.0" />
		<PackageReference Include="Xbim.Geometry.Abstractions" Version="6.2.124" />
	</ItemGroup>

	
	<ItemGroup Condition="$(TargetFramework) != ''">
		<Content Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x86\Xbim.Geometry.Engine.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x86\native\;</PackagePath>
		</Content>
		<Content Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x86\Ijwhost.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x86\native\</PackagePath>
		</Content>
		<None Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x86\TK*.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x86\native\</PackagePath>
		</None>
		
		<Content Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x64\Xbim.Geometry.Engine.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x64\native\</PackagePath>
		</Content>

		<Content Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x64\Ijwhost.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x64\native\</PackagePath>
		</Content>
		<None Include="$(BaseOutputPath)\$(Configuration)\$(Platform)\$(TargetFramework)\win10-x64\TK*.dll">
			<Pack>true</Pack>
			<PackagePath>runtimes\win10-x64\native\</PackagePath>
		</None>
		<Content Include="..\Xbim.Geometry.Engine.Interop.targets">
			<Link>Xbim.Geometry.Interop.targets</Link>
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
			<PackagePath>build\$(TargetFramework);</PackagePath>
			<Pack>true</Pack>
		</Content>
	</ItemGroup>

	<ItemGroup>
		<Folder Include="images\" />
		<None Include="..\xbim-toolkit-icon.png" Pack="True" PackagePath="\" />
	</ItemGroup>

	
</Project>